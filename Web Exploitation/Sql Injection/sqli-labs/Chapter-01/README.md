# Lesson 1

## Introduction

```Fuzzing``` is a process of giving random data to a software with the intention of breaking it. 

The first lesson is on fuzzing where we try to play around with the given api. 

When we add a ```'``` to the query, i.e - 

```baseurl/user/?id=1'```

The query breaks. This happens because of the ```'``` that was added. When the sql query gets executed the ```'``` breaks the query by unbalancing the single quotes. 

This becomes a vulnerability. 

Also, now we have to find a way to patch this bug without modifying the discovered vulnerability. 

This can be done by commenting out the query after the ```'```. 

In ```mysql``` a comment can be added in the following ways - 

1.  ```--```
    :warning: When this is used in the url, ```--``` needs to be followed with a space to get the desired effect. A space in the url can be added either by using ```%20``` or ```+```. 

1.  ```#```
    ```%23``` needs to be added to a web url to represent a ```#```. 

1.  ```/*  */```

:boom: Also, a backslash ```\``` can be used to determine the vulnerability in a given query. 

:exclamation: While adding things to the url, make sure to encode them in the url format. 

Therefore, to fix the query a comment can be added in-front of the ```'``` in the url.

The url in the end will look like this in the end - 

```baseurl/user/?id=1'--+```

where the ```+``` represents a space. 

To test whether the above fix works, we can use ```AND 1=1``` in the query followed by ```AND 1=0``` 

:warning: ```AND 1=1``` evalutes to true and it then executes the query. Where ```AND 1=0``` evaluates to ```false``` and the query won't get executed. 

The above method that makes use of ```AND 1=1``` or ```AND 1=0``` is called ```Blind Sql Injection.```

> Blind SQL injection is used when a web application is vulnerable to an SQL injection but the results of the injection are not visible to the attacker. The page with the vulnerability may not be one that displays data but will display differently depending on the results of a logical statement injected into the legitimate SQL statement called for that page. This type of attack has traditionally been considered time-intensive because a new statement needed to be crafted for each bit recovered, and depending on its structure, the attack may consist of many unsuccessful requests. 

> In a web usrl if the original page loads with the "1=1" URL and a blank or error page is returned from the "1=2" URL, and the returned page has not been created to alert the user the input is invalid, or in other words, has been caught by an input test script, the site is likely vulnerable to a SQL injection attack as the query will likely have passed through successfully in both cases. The hacker may proceed with this query string designed to reveal the version number of MySQL running on the server: ```http://books.example.com/showReview.php?ID=5 AND substring(@@version, 1, INSTR(@@version, '.') - 1)=4```, which would show the book review on a server running MySQL 4 and a blank or error page otherwise. The hacker can continue to use code within query strings to achieve their goal directly, or to glean more information from the server in hopes of discovering another avenue of attack.